<!-- Settings View (Partial) -->
<div class="container p-6" id="settings-root">
  <!-- Header -->
  <div class="page-header">
    <div class="page-title">
      <span>تنظیمات</span>
      <div class="breadcrumb">
        <a href="#/dashboard">خانه</a>
        <span class="sep"></span>
        <a href="#/settings">تنظیمات</a>
      </div>
    </div>

    <div class="page-actions">
      <button class="btn ghost" id="settings-refresh" title="به‌روزرسانی">↻ به‌روزرسانی</button>
      <button class="btn" id="btn-save-all">ذخیره همه تغییرات</button>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs underline" id="settings-tabs">
    <button class="tab active" data-tab="profile">پروفایل</button>
    <button class="tab" data-tab="account">حساب کاربری</button>
    <button class="tab" data-tab="store">فروشگاه</button>
    <button class="tab" data-tab="ui">نمایش</button>
    <button class="tab" data-tab="users" data-admin-only>مدیریت کاربران</button>
    <button class="tab" data-tab="system" data-admin-only>سیستم</button>
  </div>

  <!-- Tab Content -->
  <div class="card card-body" style="border-top-left-radius:0;border-top-right-radius:0;">
    <!-- Profile -->
    <div class="tab-content" id="tab-profile">
      <h2 class="text-xl font-bold">پروفایل کاربری</h2>
      <p class="text-muted mb-6">اطلاعات شخصی خود را ویرایش کنید.</p>

      <form id="form-profile" class="form-grid" style="gap:20px;">
        <div class="col-6">
          <label class="label" for="profile-full-name">نام کامل</label>
          <div class="field"><input id="profile-full-name" type="text" /></div>
        </div>
        <div class="col-6">
          <label class="label" for="profile-username">نام کاربری</label>
          <div class="field"><input id="profile-username" type="text" class="ltr" disabled /></div>
        </div>
        <div class="col-6">
          <label class="label" for="profile-email">ایمیل</label>
          <div class="field"><input id="profile-email" type="email" class="ltr" /></div>
        </div>
        <div class="col-6">
          <label class="label" for="profile-phone">شماره موبایل</label>
          <div class="field"><input id="profile-phone" type="tel" class="ltr" /></div>
        </div>
        <div class="col-12 mt-4">
          <button class="btn" type="button" id="btn-profile-save">ذخیره پروفایل</button>
        </div>
      </form>
    </div>

    <!-- Account -->
    <div class="tab-content hidden" id="tab-account">
      <h2 class="text-xl font-bold">حساب کاربری و امنیت</h2>
      <p class="text-muted mb-6">رمز عبور و تنظیمات امنیتی را تغییر دهید.</p>

      <form id="form-password" class="form-grid" style="gap:20px;">
        <div class="col-12"><h3 class="text-lg">تغییر رمز عبور</h3></div>
        <div class="col-4">
          <label class="label" for="pass-current">رمز عبور فعلی</label>
          <div class="field"><input id="pass-current" type="password" /></div>
        </div>
        <div class="col-4">
          <label class="label" for="pass-new">رمز عبور جدید</label>
          <div class="field"><input id="pass-new" type="password" /></div>
        </div>
        <div class="col-4">
          <label class="label" for="pass-confirm">تکرار رمز جدید</label>
          <div class="field"><input id="pass-confirm" type="password" /></div>
        </div>
        <div class="col-12 mt-2">
          <button class="btn" type="button" id="btn-password-save">تغییر رمز</button>
        </div>
      </form>
      <div class="divider my-6"></div>
      <div>
        <h3 class="text-lg">نشست‌های فعال</h3>
        <div class="mt-3 list" id="list-sessions">
          <div class="skeleton" style="height:18px;width:60%;"></div>
        </div>
      </div>
    </div>

    <!-- Store -->
    <div class="tab-content hidden" id="tab-store" data-admin-only>
      <h2 class="text-xl font-bold">تنظیمات فروشگاه</h2>
      <p class="text-muted mb-6">اطلاعات عمومی فروشگاه، مالیات و واحد پول را مشخص کنید.</p>
      
      <form id="form-store" class="form-grid" style="gap:20px;">
        <div class="col-6">
          <label class="label" for="store-name">نام فروشگاه</label>
          <div class="field"><input id="store-name" type="text" /></div>
        </div>
        <div class="col-6">
          <label class="label" for="store-name-en">نام فروشگاه (انگلیسی)</label>
          <div class="field"><input id="store-name-en" class="ltr" type="text" /></div>
        </div>
        <div class="col-6">
          <label class="label" for="store-tax">نرخ مالیات (%)</label>
          <div class="field"><input id="store-tax" type="number" class="ltr" min="0" max="100" /></div>
        </div>
        <div class="col-6">
          <label class="label" for="store-currency">واحد پول</label>
          <div class="field"><input id="store-currency" type="text" /></div>
        </div>
      </form>
    </div>

    <!-- UI -->
    <div class="tab-content hidden" id="tab-ui">
      <h2 class="text-xl font-bold">تنظیمات نمایش</h2>
      <p class="text-muted mb-6">تم و گزینه‌های ظاهری برنامه را تغییر دهید.</p>
      
      <div class="grid cols-3">
        <div>
          <label class="label">تم برنامه</label>
          <div class="btn-group">
            <button class="btn sm" data-theme-btn="light">روشن</button>
            <button class="btn sm" data-theme-btn="dark">تیره</button>
            <button class="btn sm" data-theme-btn="auto">خودکار</button>
          </div>
        </div>
        <div>
          <label class="label">تراکم نمایش</label>
          <div class="btn-group">
            <button class="btn sm" data-density-btn="normal">عادی</button>
            <button class="btn sm" data-density-btn="compact">فشرده</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Users -->
    <div class="tab-content hidden" id="tab-users" data-admin-only>
      <h2 class="text-xl font-bold">مدیریت کاربران</h2>
      <p class="text-muted mb-6">کاربران سیستم را اضافه، ویرایش یا حذف کنید.</p>

      <div class="table-wrapper">
        <div class="table-toolbar">
          <button class="btn sm" id="btn-user-new">+ افزودن کاربر</button>
        </div>
        <div class="table-scroll">
          <table class="data-table" aria-label="لیست کاربران">
            <thead>
              <tr>
                <th>نام</th>
                <th>نام کاربری</th>
                <th>ایمیل</th>
                <th>نقش</th>
                <th>وضعیت</th>
                <th>عملیات</th>
              </tr>
            </thead>
            <tbody id="table-users">
              <tr><td colspan="6"><div class="skeleton" style="height:120px;"></div></td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- System -->
    <div class="tab-content hidden" id="tab-system" data-admin-only>
      <h2 class="text-xl font-bold">تنظیمات سیستم</h2>
      <p class="text-muted mb-6">تنظیمات پیشرفته و فنی سیستم.</p>
      
      <div class="card">
        <div class="card-header">
          <div class="card-title">آدرس API</div>
        </div>
        <div class="card-body">
          <div class="field">
            <input id="sys-api-url" class="ltr" type="text" placeholder="مثال: http://localhost:3000/api" />
          </div>
          <div class="mt-3 flex gap-4">
            <button class="btn" id="btn-api-save">ذخیره</button>
            <button class="btn ghost" id="btn-api-reset">پیش‌فرض</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modals host -->
  <div id="modal-host" class="visually-hidden" aria-hidden="true"></div>
</div>