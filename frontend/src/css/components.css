/* ==========================================================================
   Zarmind Components (RTL-friendly)
   Uses tokens from variables.css
   ========================================================================== */

/* ==========================================================================
   NAVBAR
   ========================================================================== */
.navbar {
  position: sticky;
  inset-block-start: 0;
  z-index: var(--z-3);
  inline-size: 100%;
  block-size: var(--navbar-h);
  background: var(--nav);
  border-block-end: 1px solid var(--border);
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: var(--space-8);
  padding-inline: var(--space-12);
}

.navbar .navbar-brand {
  display: inline-flex;
  align-items: center;
  gap: var(--space-6);
  font-weight: 900;
  font-size: var(--text-lg);
}
.navbar .navbar-brand img,
.navbar .navbar-brand svg {
  inline-size: 32px;
  block-size: 32px;
  object-fit: contain;
}

.navbar .navbar-search {
  max-inline-size: 620px;
  margin-inline: auto;
}
.navbar .navbar-search .field { inline-size: 100%; }

.navbar .navbar-actions {
  display: inline-flex;
  align-items: center;
  gap: var(--space-6);
}
.navbar .icon-btn {
  inline-size: 36px; block-size: 36px;
  display: inline-grid; place-items: center;
  border-radius: var(--radius-md);
  background: transparent; border: 1px solid var(--border);
  cursor: pointer;
}
.navbar .icon-btn:hover { background: var(--btn-ghost-hover); }

/* Mobile toggles */
.navbar .sidebar-toggle {
  display: none;
}
@media (max-width: 1024px) {
  .navbar .sidebar-toggle {
    display: inline-grid;
  }
}

/* ==========================================================================
   SIDEBAR (Collapsible)
   ========================================================================== */
.sidebar {
  inline-size: var(--sidebar-w);
  block-size: 100%;
  background: var(--sidebar);
  border-inline-end: 1px solid var(--border);
  overflow: auto;
}

.menu {
  display: grid;
  gap: 4px;
  padding: var(--space-10);
}

.menu .section {
  margin-block: var(--space-8) var(--space-4);
  padding-inline: var(--space-4);
  color: var(--muted);
  font-size: var(--text-xs);
  font-weight: 700;
  letter-spacing: .2px;
}

.menu .menu-item {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: var(--space-6);
  padding: 10px 12px;
  border-radius: var(--radius-md);
  color: var(--text);
  border: 1px solid transparent;
  text-decoration: none;
  cursor: pointer;
}
.menu .menu-item:hover { background: var(--card); border-color: var(--border); }
.menu .menu-item.active {
  background: var(--grad-1);
  border-color: #164e63;
}
.menu .menu-item .icon {
  inline-size: 18px; block-size: 18px; opacity: .9;
}
.menu .menu-item .badge {
  justify-self: end;
}

.submenu {
  display: grid;
  gap: 2px;
  margin-block-start: 4px;
  padding-inline-start: 12px;
  border-inline-start: 2px solid var(--border);
}
.submenu a {
  padding: 8px 10px;
  border-radius: var(--radius-sm);
  color: var(--text-muted);
}
.submenu a:hover { background: var(--card); color: var(--text); }

/* Drawer (mobile sidebar) */
.drawer-overlay {
  position: fixed; inset: 0;
  background: var(--overlay);
  opacity: 0; visibility: hidden;
  transition: opacity var(--duration-2) var(--ease-out), visibility var(--duration-2) var(--ease-out);
  z-index: var(--z-4);
}
.drawer-overlay.open { opacity: 1; visibility: visible; }

.drawer {
  position: fixed; inset-block: 0;
  inset-inline-start: 0; /* logical start */
  inline-size: min(86vw, 320px);
  background: var(--sidebar);
  border-inline-end: 1px solid var(--border);
  transform: translateX(var(--drawer-x, -100%));
  transition: transform var(--duration-2) var(--ease-out);
  z-index: var(--z-5);
  display: grid;
  grid-auto-rows: max-content 1fr;
}
html[dir="ltr"] .drawer { inset-inline-start: auto; inset-inline-end: 0; transform: translateX(var(--drawer-x, 100%)); }
.drawer.open { --drawer-x: 0%; }

/* ==========================================================================
   DROPDOWN
   ========================================================================== */
.dropdown {
  position: relative;
  display: inline-block;
}
.dropdown-toggle { cursor: pointer; }
.dropdown-menu {
  position: absolute;
  inset-block-start: calc(100% + 8px);
  inset-inline-end: 0;
  min-inline-size: 200px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-2);
  padding: 6px;
  display: none;
  z-index: var(--z-4);
}
.dropdown.open .dropdown-menu { display: block; }
.dropdown-item {
  display: flex; align-items: center; gap: 10px;
  padding: 8px 10px; border-radius: var(--radius-sm);
  color: var(--text);
}
.dropdown-item:hover { background: var(--table-hover); }
.dropdown-divider {
  height: 1px; background: var(--divider); margin: 6px 0;
}

/* ==========================================================================
   MODAL SIZES
   ========================================================================== */
.modal.sm { inline-size: min(92vw, 440px); }
.modal.md { inline-size: min(92vw, 720px); }
.modal.lg { inline-size: min(92vw, 980px); }

/* ==========================================================================
   TABLE (Data Table)
   ========================================================================== */
.data-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: var(--table-bg);
  border: 1px solid var(--table-border);
  border-radius: var(--radius-lg);
  overflow: clip;
}
.data-table thead th {
  position: sticky; inset-block-start: 0;
  background: var(--table-head-bg);
  color: var(--table-head-fg);
  font-size: var(--text-sm);
  text-align: start;
  padding: 12px;
  border-bottom: 1px solid var(--table-border);
  user-select: none;
}
.data-table th.sortable { cursor: pointer; }
.data-table th .sort {
  inline-size: 14px; block-size: 14px; opacity: .6;
}
.data-table th.sort-asc .sort { transform: rotate(180deg); opacity: 1; }
.data-table th.sort-desc .sort { opacity: 1; }

.data-table tbody td {
  padding: 12px;
  border-bottom: 1px solid var(--table-border);
}
.data-table tbody tr:nth-child(odd) td { background: var(--table-stripe); }
.data-table tbody tr:hover td { background: var(--table-hover); }

.data-table tbody tr.selected td {
  background: rgba(14,165,233,.12);
}

/* Responsive container with horizontal scroll */
.table-scroll {
  inline-size: 100%;
  overflow: auto;
}

/* ==========================================================================
   PAGINATION
   ========================================================================== */
.pagination {
  display: flex; align-items: center; gap: 6px;
  padding: var(--space-8) var(--space-12);
  border-block-start: 1px solid var(--border);
  background: var(--bg-elev);
}
.page-btn {
  inline-size: 34px; block-size: 34px;
  display: inline-grid; place-items: center;
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  background: transparent;
  cursor: pointer;
}
.page-btn[disabled] { opacity: .5; cursor: not-allowed; }
.page-info { color: var(--text-muted); font-size: var(--text-sm); margin-inline-start: auto; }

/* ==========================================================================
   TABS (variants)
   ========================================================================== */
.tabs.underline {
  border-block-end: 1px solid var(--border);
  gap: var(--space-2);
}
.tabs.underline .tab {
  border: none; border-radius: 0;
  position: relative; padding-inline: 12px; padding-block: 10px;
}
.tabs.underline .tab.active::after {
  content: "";
  position: absolute; inset-inline: 0; inset-block-end: -1px;
  block-size: 2px; background: var(--info);
}

/* ==========================================================================
   BUTTON GROUP
   ========================================================================== */
.btn-group {
  display: inline-flex; align-items: stretch;
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  overflow: hidden;
}
.btn-group .btn {
  border: none;
  border-inline-end: 1px solid var(--border);
  border-radius: 0;
}
.btn-group .btn:last-child { border-inline-end: none; }

/* ==========================================================================
   BADGES / CHIPS
   ========================================================================== */
.badge { background: var(--badge-bg); color: var(--badge-fg); }
.badge.success { background: rgba(34,197,94,.18); color: #86efac; }
.badge.info    { background: rgba(14,165,233,.18); color: #93c5fd; }
.badge.warning { background: rgba(245,158,11,.18); color: #fcd34d; }
.badge.danger  { background: rgba(239,68,68,.18); color: #fca5a5; }

.chip {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 6px 10px; border-radius: var(--radius-full);
  background: var(--chip-bg); color: var(--chip-fg);
  font-size: var(--text-sm);
}
.chip .close {
  inline-size: 16px; block-size: 16px; display: inline-grid; place-items: center;
  border-radius: 50%; background: transparent; border: 1px solid var(--border); cursor: pointer;
}

/* ==========================================================================
   AVATAR
   ========================================================================== */
.avatar {
  inline-size: 36px; block-size: 36px;
  border-radius: 50%;
  background: var(--table-hover);
  border: 1px solid var(--border);
  object-fit: cover;
}
.avatar.sm { inline-size: 24px; block-size: 24px; }
.avatar.lg { inline-size: 48px; block-size: 48px; }
.avatar.xl { inline-size: 64px; block-size: 64px; }
.avatar-group {
  display: inline-flex; align-items: center;
}
.avatar-group .avatar {
  margin-inline-start: -10px;
  box-shadow: 0 0 0 2px var(--bg);
}

/* ==========================================================================
   TOAST / NOTIFICATION
   ========================================================================== */
.toast {
  position: fixed; inset-inline-end: 16px; inset-block-start: 16px;
  z-index: var(--z-5);
  display: grid; gap: 8px;
}
.toast.bottom { inset-block-start: auto; inset-block-end: 16px; }
.toast.left { inset-inline-end: auto; inset-inline-start: 16px; }

.alert {
  display: grid; grid-auto-flow: column; align-items: center; gap: 10px;
  padding: 10px 14px; border-radius: var(--radius-md);
  border: 1px solid var(--border); background: var(--bg-elev);
  box-shadow: var(--shadow-1);
}
.alert.success { background: rgba(34,197,94,.08); border-color: rgba(34,197,94,.35); }
.alert.info    { background: rgba(14,165,233,.08); border-color: rgba(14,165,233,.35); }
.alert.warn    { background: rgba(245,158,11,.08); border-color: rgba(245,158,11,.35); }
.alert.error   { background: rgba(239,68,68,.08); border-color: rgba(239,68,68,.35); }

/* ==========================================================================
   CAMERA / SCANNER (AI Scale)
   ========================================================================== */
.camera {
  display: grid; gap: var(--space-8);
}
.camera-view {
  position: relative; inline-size: 100%;
  aspect-ratio: 16 / 9; background: #000; border-radius: var(--radius-lg);
  overflow: hidden; border: 1px solid var(--border);
}
.camera-hint {
  position: absolute;
  inset-block-end: 10px; inset-inline: 10px;
  color: #e5e7eb; font-size: var(--text-sm);
  background: rgba(2,6,23,.45);
  padding: 6px 10px; border-radius: var(--radius-sm);
}
.camera-result {
  display: grid; grid-template-columns: 1fr auto; align-items: center;
  gap: 10px; padding: var(--space-8);
  border: 1px dashed var(--border); border-radius: var(--radius-md);
  background: var(--bg-elev);
}

/* ==========================================================================
   EMPTY STATE
   ========================================================================== */
.empty {
  text-align: center;
  color: var(--text-muted);
  padding: var(--space-12);
  border: 2px dashed var(--border);
  border-radius: var(--radius-lg);
  background: var(--bg-elev);
}
.empty .icon {
  inline-size: 64px; block-size: 64px; margin-inline: auto; margin-block-end: var(--space-6);
  opacity: .7;
}
.empty .title { font-weight: 900; font-size: var(--text-xl); margin-block-end: var(--space-4); }
.empty .subtitle { font-size: var(--text-sm); }

/* ==========================================================================
   STEPPER
   ========================================================================== */
.stepper {
  display: grid; grid-auto-flow: column; align-items: center; gap: 12px;
}
.step {
  display: inline-grid; place-items: center;
  inline-size: 32px; block-size: 32px; border-radius: 50%;
  background: var(--table-hover); border: 2px solid var(--border);
  font-weight: 800; font-size: var(--text-sm);
  color: var(--text);
}
.step.active { background: rgba(14,165,233,.15); border-color: #0ea5e9; }
.step.done { background: rgba(34,197,94,.15); border-color: #22c55e; }

/* ==========================================================================
   ACCORDION (details/summary)
   ========================================================================== */
.accordion {
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  overflow: hidden;
}
.accordion details + details { border-block-start: 1px solid var(--border); }
.accordion summary {
  list-style: none;
  cursor: pointer;
  padding: var(--space-10) var(--space-12);
  background: var(--bg-elev);
  font-weight: 700;
}
.accordion summary::-webkit-details-marker { display: none; }
.accordion .content { padding: var(--space-10) var(--space-12); }

/* ==========================================================================
   FORM CONTROLS (Checkbox / Radio / KBD)
   ========================================================================== */
.checkbox,
.radio {
  display: inline-flex; align-items: center; gap: 8px;
  cursor: pointer;
  user-select: none;
  font-size: var(--text-sm);
}
.checkbox input,
.radio input { display: none; }

.checkbox .box,
.radio .dot {
  inline-size: 18px; block-size: 18px;
  border: 1px solid var(--border);
  background: var(--field-bg);
  border-radius: 4px;
  display: inline-grid; place-items: center;
}
.radio .dot { border-radius: 50%; }

.checkbox input:checked ~ .box { border-color: var(--success); background: rgba(34,197,94,.12); }
.checkbox input:checked ~ .box::after {
  content: "âœ“"; font-size: 12px; color: var(--success); line-height: 1;
}
.radio input:checked ~ .dot { border-color: var(--info); }
.radio input:checked ~ .dot::after {
  content: ""; inline-size: 10px; block-size: 10px; border-radius: 50%;
  background: var(--info);
}

.kbd {
  display: inline-block;
  padding: 2px 6px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
  background: var(--code-bg);
  font-family: var(--font-mono);
  font-size: var(--text-xs);
}

/* ==========================================================================
   PROGRESS (Circular)
   ========================================================================== */
.progress-circle {
  inline-size: 48px; block-size: 48px; position: relative;
}
.progress-circle svg { transform: rotate(-90deg); inline-size: 100%; block-size: 100%; }
.progress-circle .track { stroke: var(--table-hover); }
.progress-circle .bar { stroke: var(--info); transition: stroke-dashoffset .3s var(--ease-out); }
.progress-circle .label {
  position: absolute; inset: 0; display: grid; place-items: center;
  font-size: var(--text-xs);
}

/* ==========================================================================
   BREADCRUMB (enhanced)
   ========================================================================== */
.breadcrumb {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--text-muted);
  font-size: var(--text-sm);
}
.breadcrumb a { color: inherit; }
.breadcrumb .sep { opacity: .5; }

/* ==========================================================================
   TOOLTIP (enhanced)
   ========================================================================== */
.tooltip {
  position: relative;
  display: inline-block;
}
.tooltip[data-tip]::after {
  content: attr(data-tip);
  position: absolute;
  inset-block-end: calc(100% + 8px);
  inset-inline-start: 50%;
  transform: translateX(-50%);
  max-inline-size: 280px;
  background: var(--card); color: var(--text);
  border: 1px solid var(--border); border-radius: var(--radius-sm);
  padding: 6px 8px; box-shadow: var(--shadow-2);
  font-size: var(--text-xs); z-index: var(--z-3);
  opacity: 0; pointer-events: none;
  transition: opacity var(--duration-2) var(--ease-out);
}
.tooltip:hover::after { opacity: 1; }

/* ==========================================================================
   UTILITIES (helpers specific to components)
   ========================================================================== */
.shadow-1 { box-shadow: var(--shadow-1); }
.shadow-2 { box-shadow: var(--shadow-2); }
.shadow-3 { box-shadow: var(--shadow-3); }

.rounded-sm { border-radius: var(--radius-sm); }
.rounded-md { border-radius: var(--radius-md); }
.rounded-lg { border-radius: var(--radius-lg); }
.rounded-xl { border-radius: var(--radius-xl); }

.border { border: 1px solid var(--border); }
.border-dashed { border: 1px dashed var(--border); }

.text-xs { font-size: var(--text-xs); }
.text-sm { font-size: var(--text-sm); }
.text-md { font-size: var(--text-md); }
.text-lg { font-size: var(--text-lg); }
.text-xl { font-size: var(--text-xl); }

.w-full { inline-size: 100%; }
.h-full { block-size: 100%; }

.opacity-50 { opacity: .5; }

/* End of components.css */