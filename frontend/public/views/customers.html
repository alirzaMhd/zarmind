<!-- Customers View (Partial) -->
<div class="container p-6" id="customers-root">
  <!-- Header -->
  <div class="page-header">
    <div class="page-title">
      <span>مدیریت مشتریان</span>
      <div class="breadcrumb">
        <a href="#/dashboard">خانه</a>
        <span class="sep"></span>
        <a href="#/customers">مشتریان</a>
      </div>
    </div>

    <div class="page-actions">
      <button class="btn ghost" id="cust-refresh" title="به‌روزرسانی">↻ به‌روزرسانی</button>
      <button class="btn" id="btn-customer-new">+ افزودن مشتری</button>
      <button class="btn ghost" id="btn-customer-report">گزارش مشتریان</button>
    </div>
  </div>

  <!-- Summary stats -->
  <div class="stat-grid" id="cust-stats">
    <div class="stat-card">
      <div class="label">تعداد مشتریان</div>
      <div class="value" id="stat-total-customers">
        <div class="skeleton" style="height:28px;width:36%;"></div>
      </div>
      <div class="meta">کل مشتریان ثبت‌شده</div>
    </div>
    <div class="stat-card">
      <div class="label">مشتریان فعال</div>
      <div class="value" id="stat-active-customers">
        <div class="skeleton" style="height:28px;width:44%;"></div>
      </div>
      <div class="meta">قابل استفاده در فروش</div>
    </div>
    <div class="stat-card">
      <div class="label">تعداد بدهکاران</div>
      <div class="value" id="stat-debtors">
        <div class="skeleton" style="height:28px;width:40%;"></div>
      </div>
      <div class="meta">مانده حساب مثبت</div>
    </div>
    <div class="stat-card">
      <div class="label">جمع بدهی</div>
      <div class="value" id="stat-total-debt">
        <div class="skeleton" style="height:28px;width:58%;"></div>
      </div>
      <div class="meta">تومان</div>
    </div>
  </div>

  <!-- Toolbar / Filters -->
  <div class="toolbar mt-6" id="cust-toolbar">
    <div class="field" style="min-width:220px;">
      <input id="filter-search" type="search" placeholder="جستجو در نام، موبایل، کد، ایمیل…" aria-label="جستجو" />
    </div>

    <div class="field" style="min-width:180px;">
      <input id="filter-city" type="text" placeholder="شهر" aria-label="شهر" />
    </div>

    <select class="field" id="filter-active" aria-label="وضعیت">
      <option value="">همه وضعیت‌ها</option>
      <option value="true">فعال</option>
      <option value="false">غیرفعال</option>
    </select>

    <select class="field" id="filter-hasdebt" aria-label="بدهی">
      <option value="">بدهی (همه)</option>
      <option value="true">بدهکار</option>
      <option value="false">فاقد بدهی</option>
    </select>

    <select class="field" id="filter-hascredit" aria-label="طلب">
      <option value="">طلب (همه)</option>
      <option value="true">طلبکار</option>
      <option value="false">فاقد طلب</option>
    </select>

    <div class="btn-group">
      <button class="btn sm" id="btn-apply-filters">اعمال فیلتر</button>
      <button class="btn sm ghost" id="btn-reset-filters">پاک‌سازی</button>
    </div>

    <div style="margin-inline-start:auto; display:flex; gap:8px;">
      <button class="btn sm ghost" id="btn-bulk-active">فعال‌سازی/غیرفعال‌سازی گروهی</button>
      <button class="btn sm ghost" id="btn-bulk-credit-limit">تغییر گروهی سقف اعتبار</button>
      <button class="btn sm" id="btn-export">خروجی</button>
    </div>
  </div>

  <!-- Quick info -->
  <div class="toolbar mt-4" id="cust-quick">
    <div class="filter-chip">مشتریان جدید ماه جاری: <span class="badge" id="badge-new-customers"><span class="skeleton" style="height:14px;width:36px;"></span></span></div>
    <div class="filter-chip">مشتریان غیرفعال (۹۰ روز): <span class="badge" id="badge-inactive-customers"><span class="skeleton" style="height:14px;width:36px;"></span></span></div>
    <div style="margin-inline-start:auto;">
      <a class="btn" href="#/sales">ثبت فروش</a>
      <a class="btn ghost" href="#/reports">گزارش‌ها</a>
    </div>
  </div>

  <!-- Table -->
  <div class="table-wrapper mt-6" id="customers-table">
    <div class="table-toolbar">
      <div class="field" style="min-width:220px;">
        <input id="table-search" type="search" placeholder="جستجو در جدول…" aria-label="جستجو" />
      </div>
      <div style="margin-inline-start:auto; display:flex; gap:8px;">
        <select class="field" id="page-size" aria-label="تعداد در صفحه">
          <option value="10">۱۰</option>
          <option value="20" selected>۲۰</option>
          <option value="50">۵۰</option>
          <option value="100">۱۰۰</option>
        </select>
      </div>
    </div>

    <div class="table-scroll">
      <table class="data-table" aria-label="لیست مشتریان">
        <thead>
          <tr>
            <th>کد</th>
            <th>نام</th>
            <th>موبایل</th>
            <th>ایمیل</th>
            <th>شهر</th>
            <th class="num">مانده</th>
            <th class="num">سقف اعتبار</th>
            <th>آخرین خرید</th>
            <th class="num">مجموع خرید</th>
            <th>وضعیت</th>
            <th>عملیات</th>
          </tr>
        </thead>
        <tbody id="table-customers">
          <tr><td colspan="11">
            <div class="skeleton" style="height:220px;"></div>
          </td></tr>
        </tbody>
      </table>
    </div>

    <div class="pagination">
      <button class="page-btn" id="page-prev">‹</button>
      <button class="page-btn" id="page-next">›</button>
      <div class="page-info" id="page-info">—</div>
    </div>
  </div>

  <!-- Side lists -->
  <div class="grid cols-2 mt-6" id="cust-lists">
    <!-- Debtors -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">بدهکاران</div>
        <a class="btn sm ghost" href="#/customers?hasDebt=true">مشاهده همه</a>
      </div>
      <div class="card-body">
        <div class="list" id="list-debtors">
          <div class="skeleton" style="height:18px;width:72%;"></div>
          <div class="skeleton" style="height:18px;width:56%;"></div>
          <div class="skeleton" style="height:18px;width:64%;"></div>
        </div>
      </div>
    </div>

    <!-- New customers -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">مشتریان جدید</div>
        <a class="btn sm ghost" href="#/customers">مدیریت</a>
      </div>
      <div class="card-body">
        <div class="list" id="list-new-customers">
          <div class="skeleton" style="height:18px;width:70%;"></div>
          <div class="skeleton" style="height:18px;width:58%;"></div>
          <div class="skeleton" style="height:18px;width:62%;"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Inactive customers -->
  <div class="card mt-6">
    <div class="card-header">
      <div class="card-title">مشتریان غیرفعال</div>
      <div class="muted text-sm">بدون خرید در بازه طولانی</div>
    </div>
    <div class="card-body">
      <div class="list" id="list-inactive-customers">
        <div class="skeleton" style="height:18px;width:74%;"></div>
        <div class="skeleton" style="height:18px;width:60%;"></div>
      </div>
    </div>
  </div>

  <!-- Modals host -->
  <div id="modal-host" class="visually-hidden" aria-hidden="true"></div>
</div>